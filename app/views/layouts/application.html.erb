<!DOCTYPE html>
<html>
  <head>
    <title>Manage Budget</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" />  
    <script src="https://kit.fontawesome.com/ec54711d2d.js" crossorigin="anonymous"></script>

    <%= stylesheet_link_tag "sidebar", "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>

  <body class="active show">


<%if user_signed_in? %>
     <div class="wrapper">
      <div class="section">
        <header>
          <div class="top_navbar">
            <div class="hamburger">
              <a href="#">
                <i class="fas fa-bars"></i>
              </a>
            </div>           
          </div>
        </header>
<%end%>

    
      <div class="" id="maincontainer">
        <%= yield %>
      </div>
 
         <div class="sidebar bg-blue">
            <%if user_signed_in? %>
              <ul id="accordion">
                <li class="d-flex justify-content-center  m-3">
                  <%if current_user.image.persisted? && current_user.image.image? %>
                    <%= image_tag current_user.image, class: 'rounded-circle profile-img' %>  
                  <%end%>
                </li>
                <li class="d-flex justify-content-center m-3">                  
                    <h4><%= current_user.name.upcase %></h4>
                </li>

                <li>
                  <%= image_tag 'home.svg' , class: 'sidebar-icon'%>
                  <%= link_to 'Home', root_path, class: 'item' %>                 
                </li>  
                
                <li>
                  <%= image_tag 'cat.svg' , class: 'sidebar-icon'%>
                  <%= link_to 'Groups', groups_path, class: 'item' %>                              
                </li>

                <li>
                  <%= image_tag 'add_cat.svg' , class: 'sidebar-icon'%>
                  <%= link_to 'Add Group', new_group_path, class: 'item' %>
                </li>

                <li>
                  <%= image_tag 'shopping_cart.svg' , class: 'sidebar-icon'%>
                  <%= link_to 'Purchases', purchases_path, class: 'item ' %>                          
                </li>

                <li>
                  <%= image_tag 'add_shopping_cart.svg' , class: 'sidebar-icon'%>
                  <%= link_to 'Add Purchase', new_purchase_path, class: 'item' %>
                </li>

                <li class="d-flex">
                  <%= image_tag 'logout.svg' , class: 'sidebar-icon'%>
                  <%= button_to "LOG OUT", 
                      destroy_user_session_path, 
                      method: :delete, 
                      data: { turbo: false }, 
                      class: 'btn btn-link nav-link item mt-3' %>
                </li>
              </ul>
              <%end%>
            </div>
    </div>
    
    <p class="notice"><%= notice %></p>
    <p class="alert"><%= alert %></p>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  </body>
</html>
